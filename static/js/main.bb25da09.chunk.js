(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{47:function(e,t,a){e.exports=a(99)},56:function(e,t,a){},58:function(e,t,a){},62:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);a(48),a(50);var n=a(0),r=a.n(n),s=a(39),c=a.n(s),o=(a(56),a(3)),i=a(4),l=a(6),u=a(5),m=a(7),d=(a(58),a(46)),b=a(25),h=a.n(b),f=a(40),p=a(14),v=(a(62),a(103)),E=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"start"},r.a.createElement("h1",null,"Trivial Game"),r.a.createElement("p",null,"Answer 10 random questions about ",this.props.category," and try to score as high as you can!"),r.a.createElement(v.a,{className:"btn-cta","data-btn-play":!0},"Play"))}}]),t}(r.a.Component),y=a(100),j=a(101),O=a(102);function w(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}var g=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.props,t=e.currentQuestionIndex,a=w(e.questions[t].question);return r.a.createElement("div",{className:"question"},r.a.createElement("h2",null,"Question #",t+1),r.a.createElement("p",null,a),r.a.createElement(y.a,null,r.a.createElement(j.a,null,r.a.createElement(v.a,{className:"mb-1 wrap",block:!0,"data-btn-index":"0","data-selected":"0"},e.shuffledQuestions[0])),r.a.createElement(j.a,null,r.a.createElement(v.a,{className:"mb-1 wrap",block:!0,"data-btn-index":"1","data-selected":"0"},e.shuffledQuestions[1])),r.a.createElement(j.a,null,r.a.createElement(v.a,{className:"mb-1 wrap",block:!0,"data-btn-index":"2","data-selected":"0"},e.shuffledQuestions[2])),r.a.createElement(j.a,null,r.a.createElement(v.a,{className:"mb-1 wrap",block:!0,"data-btn-index":"3","data-selected":"0"},e.shuffledQuestions[3])),r.a.createElement("hr",null),r.a.createElement(j.a,null,r.a.createElement(O.a,{xs:1}),r.a.createElement(O.a,{xs:10},r.a.createElement(v.a,{className:"btn mx-1 mb-1 center-block btn-cta",block:!0,"data-btn-confirm":"1"},"Confirm")),r.a.createElement(O.a,{xs:1}))))}}]),t}(r.a.Component),k=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.props,t="";switch(e.score){case 0:t="Did you even try...?";break;case 1:case 2:case 3:t="My 5 year old knows more than you";break;case 4:case 5:t="Not too bad...";break;case 6:case 7:case 8:t="Wow, you know quite a lot!";break;case 9:t="I can't believe how wise you are!";break;case 10:t="You're a legend, your knowledge is beyond this world...";break;default:t="something went wrong with your score... :("}return r.a.createElement("div",null,r.a.createElement("p",{className:"score"},"Your score:"),r.a.createElement("p",{className:"score-value"},e.score,"/10"),r.a.createElement("p",null,t),r.a.createElement(v.a,{className:"btn-cta","data-btn-reset":!0},"Play again"))}}]),t}(r.a.Component),x=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"start"},r.a.createElement("h1",null,"Loading game..."))}}]),t}(r.a.Component),N=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"start"},r.a.createElement("p",null,"There was some issue trying to get the questions :( ",r.a.createElement("br",null),"Check your internet connection or try again later"))}}]),t}(r.a.Component),C=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.props,t="";return void 0!==e.questions[0]&&(t=e.questions[0].category),e.isLoading?r.a.createElement("div",{className:"mainView-wrapper"},r.a.createElement(x,null)):"start"===e.screen?r.a.createElement("div",{className:"mainView-wrapper"},r.a.createElement(E,{category:t})):"questionScreen"===e.screen?r.a.createElement("div",{className:"mainView-wrapper"},r.a.createElement(g,{props:e})):"score"===e.screen?r.a.createElement("div",{className:"mainView-wrapper"},r.a.createElement(k,{props:e})):"error"===e.screen?r.a.createElement("div",{className:"mainView-wrapper"},r.a.createElement(N,null)):void 0}}]),t}(r.a.Component),Q=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"tab-wrapper"},r.a.createElement("div",{className:"tab-container"},r.a.createElement(y.a,null,r.a.createElement(j.a,null,r.a.createElement(O.a,{xs:6,className:"text-left"},r.a.createElement("span",{className:"title"},"Trivial Game")),r.a.createElement(O.a,{xs:6,className:"text-right"},r.a.createElement(v.a,{"data-btn-reset":!0},"Restart"))))))}}]),t}(r.a.Component),q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={roundsNumber:10,isLoading:!0,screen:"start",questions:{},currentQuestionIndex:0,currentAnswered:!1,score:0,shuffledQuestions:[]},a.handleClick=a.handleClick.bind(Object(p.a)(Object(p.a)(a))),a.shuffleQuestions=a.shuffleQuestions.bind(Object(p.a)(Object(p.a)(a))),a.getResources=a.getResources.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getResources(),document.addEventListener("click",this.handleClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick)}},{key:"getResources",value:function(){var e=this;function t(){return(t=Object(f.a)(h.a.mark(function t(){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return"https://opentdb.com/api.php?amount=10&category=23&difficulty=medium&type=multiple",t.abrupt("return",fetch("https://opentdb.com/api.php?amount=10&category=23&difficulty=medium&type=multiple").then(function(e){return e.json()}).then(function(t){e.setState({isLoading:!1,questions:t.results})}).catch(function(t){e.setState({screen:"error",isLoading:!1}),console.error(t)}));case 2:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}},{key:"handleClick",value:function(e){if((void 0!==e.target.dataset.btnPlay&&(this.shuffleQuestions(),this.setState({screen:"questionScreen"})),void 0!==e.target.dataset.btnIndex)&&"Confirm"===document.querySelector("[data-btn-confirm]").textContent){var t=document.querySelectorAll("[data-btn-index]");Array.from(t).forEach(function(e){e.classList.remove("btn-info"),e.dataset.selected="0"}),e.target.classList.add("btn-info"),e.target.dataset.selected="1"}if(void 0!==e.target.dataset.btnConfirm){var a=this.state.currentQuestionIndex,n=document.querySelectorAll("[data-btn-index]"),r=Array.from(n).find(function(e){return"1"===e.dataset.selected});if("Confirm"===e.target.textContent){if(void 0!==r){var s=w(this.state.questions[a].correct_answer),c=Array.from(n).find(function(e){return e.textContent===s}),o=r.textContent;Array.from(n).forEach(function(e){e.classList.remove("btn-info"),e.dataset.selected="0"}),o===s?(r.classList.add("btn-success"),this.setState({score:+this.state.score+1})):(r.classList.add("btn-danger"),c.classList.add("btn-success")),a===this.state.roundsNumber-1?e.target.textContent="See your score":e.target.textContent="Next question"}}else a<this.state.roundsNumber-1?(Array.from(n).forEach(function(e){e.classList.remove("btn-danger"),e.classList.remove("btn-success"),e.dataset.selected="0"}),this.setState({currentQuestionIndex:this.state.currentQuestionIndex+1,shuffledQuestions:[]}),e.target.textContent="Confirm",this.shuffleQuestions()):this.setState({screen:"score"})}void 0!==e.target.dataset.btnReset&&(this.setState({roundsNumber:10,isLoading:!0,screen:"start",questions:{},currentQuestionIndex:0,currentAnswered:!1,score:0,shuffledQuestions:[]}),this.getResources())}},{key:"shuffleQuestions",value:function(){var e=function(e){for(var t,a,n=e.length;n;)a=Math.floor(Math.random()*n--),t=e[n],e[n]=e[a],e[a]=t;return e}(Object(d.a)(this.state.questions[this.state.currentQuestionIndex].incorrect_answers).concat([this.state.questions[this.state.currentQuestionIndex].correct_answer])).map(function(e){return w(e)});this.setState({shuffledQuestions:e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"trivialWrapper"},r.a.createElement("div",{className:"trivialContainer"},r.a.createElement(Q,null),r.a.createElement(C,{props:this.state})))}}]),t}(r.a.Component),L=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(q,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[47,2,1]]]);
//# sourceMappingURL=main.bb25da09.chunk.js.map